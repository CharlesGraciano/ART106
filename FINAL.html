<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_slqw16q6r87k-7{list-style-type:none}ul.lst-kix_slqw16q6r87k-6{list-style-type:none}ul.lst-kix_slqw16q6r87k-8{list-style-type:none}ul.lst-kix_slqw16q6r87k-3{list-style-type:none}ul.lst-kix_slqw16q6r87k-2{list-style-type:none}ul.lst-kix_slqw16q6r87k-5{list-style-type:none}ul.lst-kix_slqw16q6r87k-4{list-style-type:none}ul.lst-kix_slqw16q6r87k-1{list-style-type:none}ul.lst-kix_slqw16q6r87k-0{list-style-type:none}.lst-kix_2z6l5tpe4ls2-7>li:before{content:"-  "}.lst-kix_2z6l5tpe4ls2-8>li:before{content:"-  "}ul.lst-kix_2z6l5tpe4ls2-1{list-style-type:none}ul.lst-kix_2z6l5tpe4ls2-0{list-style-type:none}ul.lst-kix_2z6l5tpe4ls2-3{list-style-type:none}ul.lst-kix_2z6l5tpe4ls2-2{list-style-type:none}.lst-kix_slqw16q6r87k-7>li:before{content:"-  "}ul.lst-kix_2z6l5tpe4ls2-5{list-style-type:none}ul.lst-kix_2z6l5tpe4ls2-4{list-style-type:none}.lst-kix_2z6l5tpe4ls2-6>li:before{content:"-  "}ul.lst-kix_2z6l5tpe4ls2-7{list-style-type:none}.lst-kix_slqw16q6r87k-8>li:before{content:"-  "}ul.lst-kix_2z6l5tpe4ls2-6{list-style-type:none}.lst-kix_slqw16q6r87k-4>li:before{content:"-  "}ul.lst-kix_79h7358dcf1x-3{list-style-type:none}.lst-kix_2z6l5tpe4ls2-5>li:before{content:"-  "}ul.lst-kix_79h7358dcf1x-2{list-style-type:none}ul.lst-kix_79h7358dcf1x-1{list-style-type:none}ul.lst-kix_79h7358dcf1x-0{list-style-type:none}.lst-kix_slqw16q6r87k-5>li:before{content:"-  "}ul.lst-kix_79h7358dcf1x-7{list-style-type:none}.lst-kix_2z6l5tpe4ls2-3>li:before{content:"-  "}ul.lst-kix_79h7358dcf1x-6{list-style-type:none}ul.lst-kix_79h7358dcf1x-5{list-style-type:none}.lst-kix_2z6l5tpe4ls2-4>li:before{content:"-  "}ul.lst-kix_79h7358dcf1x-4{list-style-type:none}.lst-kix_slqw16q6r87k-6>li:before{content:"-  "}.lst-kix_79h7358dcf1x-7>li:before{content:"-  "}.lst-kix_2z6l5tpe4ls2-1>li:before{content:"-  "}ul.lst-kix_79h7358dcf1x-8{list-style-type:none}.lst-kix_slqw16q6r87k-1>li:before{content:"-  "}.lst-kix_79h7358dcf1x-8>li:before{content:"-  "}.lst-kix_2z6l5tpe4ls2-2>li:before{content:"-  "}.lst-kix_slqw16q6r87k-0>li:before{content:"-  "}ul.lst-kix_2z6l5tpe4ls2-8{list-style-type:none}.lst-kix_slqw16q6r87k-3>li:before{content:"-  "}.lst-kix_2z6l5tpe4ls2-0>li:before{content:"-  "}.lst-kix_slqw16q6r87k-2>li:before{content:"-  "}.lst-kix_6iej33h2u3qi-7>li:before{content:"-  "}.lst-kix_6iej33h2u3qi-6>li:before{content:"-  "}.lst-kix_6iej33h2u3qi-5>li:before{content:"-  "}.lst-kix_79h7358dcf1x-6>li:before{content:"-  "}.lst-kix_79h7358dcf1x-5>li:before{content:"-  "}.lst-kix_79h7358dcf1x-3>li:before{content:"-  "}.lst-kix_79h7358dcf1x-2>li:before{content:"-  "}.lst-kix_79h7358dcf1x-4>li:before{content:"-  "}.lst-kix_6iej33h2u3qi-8>li:before{content:"-  "}.lst-kix_79h7358dcf1x-0>li:before{content:"-  "}.lst-kix_79h7358dcf1x-1>li:before{content:"-  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_6iej33h2u3qi-7{list-style-type:none}ul.lst-kix_6iej33h2u3qi-8{list-style-type:none}ul.lst-kix_6iej33h2u3qi-5{list-style-type:none}.lst-kix_6iej33h2u3qi-2>li:before{content:"-  "}.lst-kix_6iej33h2u3qi-4>li:before{content:"-  "}ul.lst-kix_6iej33h2u3qi-6{list-style-type:none}ul.lst-kix_6iej33h2u3qi-3{list-style-type:none}ul.lst-kix_6iej33h2u3qi-4{list-style-type:none}ul.lst-kix_6iej33h2u3qi-1{list-style-type:none}ul.lst-kix_6iej33h2u3qi-2{list-style-type:none}.lst-kix_6iej33h2u3qi-3>li:before{content:"-  "}ul.lst-kix_6iej33h2u3qi-0{list-style-type:none}.lst-kix_6iej33h2u3qi-0>li:before{content:"-  "}.lst-kix_6iej33h2u3qi-1>li:before{content:"-  "}ol{margin:0;padding:0}table td,table th{padding:0}.c1{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:italic}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c5{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c8{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c7{color:inherit;text-decoration:inherit}.c4{font-weight:700;font-style:italic}.c3{margin-left:36pt;padding-left:0pt}.c6{padding:0;margin:0}.c2{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c8"><p class="c0"><span class="c1">FINAL</span></p><ul class="c6 lst-kix_slqw16q6r87k-0 start"><li class="c0 c3 li-bullet-0"><span class="c1">For my final I wanted to elaborate my idea with the animatronic. My first idea was to create a lifesize Chuck E Cheese Figure that would animate when it&#39;s being interacted with. This was my first time doing any project like this so the start process was intimidating but I ended up coming to a conclusion that I definitely wanted to make my creation prettier. Presentation has always been a big deal for me especially in the entertainment Avenue of my interests. The point of creating this animatronic influence was because of the nostalgia I&rsquo;d have for going to a pizza place like Chuck E. Cheese when I was younger. The movement of just drive feel accompanies the requirements of this assignment because one of the IMU you sensor is being used or moved then the characters on the stage are moving with it. I wanted to create an interaction of there being music and someone were to dance and have the characters dance with them. I kept a lot of the code the same from the prototype face but what I really wanted to emphasize are the movements and characters and how they are portrayed once the characters are placed and how the setting was going to look because I wanted it to look very welcome here and approachable. </span></li><li class="c0 c3 li-bullet-0"><span class="c4">WATCH IN ACTION - </span><span class="c4 c5"><a class="c7" href="https://www.google.com/url?q=https://youtu.be/F-rvTpB-AXU&amp;sa=D&amp;source=editors&amp;ust=1621978956922000&amp;usg=AOvVaw2TwnSs9dxLMx5-PPdEYrJZ">https://youtu.be/F-rvTpB-AXU</a></span><span class="c1">&nbsp;</span></li></ul><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 215.37px; height: 286.50px;"><img alt="" src="images/image2.jpg" style="width: 215.37px; height: 286.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 196.50px; height: 285.00px;"><img alt="" src="images/image5.jpg" style="width: 196.50px; height: 285.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 183.50px; height: 285.00px;"><img alt="" src="images/image6.jpg" style="width: 183.50px; height: 285.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c2"><span class="c1"></span></p><ul class="c6 lst-kix_2z6l5tpe4ls2-0 start"><li class="c0 c3 li-bullet-0"><span class="c1">I wanted to get the entire band together for this project seeing that the Face or figure itself would be a challenge with my lack of knowledge. I wanted to create a scene where the stage is old from the years it&#39;s been abandoned but also gives the nostalgic feeling with the looks of tattered carpets and old drapes. </span></li></ul><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 201.61px; height: 151.50px;"><img alt="" src="images/image3.jpg" style="width: 201.61px; height: 151.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 205.61px; height: 153.50px;"><img alt="" src="images/image4.jpg" style="width: 205.61px; height: 153.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 201.00px; height: 152.50px;"><img alt="" src="images/image1.jpg" style="width: 201.00px; height: 152.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c2"><span class="c1"></span></p><ul class="c6 lst-kix_6iej33h2u3qi-0 start"><li class="c0 c3 li-bullet-0"><span class="c1">I&rsquo;ve also included some LED lights to give the Stage a more stage presentation for the viewers of this animatronic. </span></li></ul><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">CODE USED: </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp;</span></p><p class="c0"><span class="c1">#include &lt;Wire.h&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">const int MPU_addr1 = 0x68;</span></p><p class="c0"><span class="c1">float xa, ya, za, roll, pitch;</span></p><p class="c0"><span class="c1">float rolloffset;</span></p><p class="c0"><span class="c1">float pitchoffset;</span></p><p class="c0"><span class="c1">#include &lt;Adafruit_PWMServoDriver.h&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Adafruit_PWMServoDriver pwm = Adafruit_PWMServoDriver();</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">// Depending on your servo make, the pulse width min and max may vary, you </span></p><p class="c0"><span class="c1">// want these to be as small/large as possible without hitting the hard stop</span></p><p class="c0"><span class="c1">// for max range. You&#39;ll have to tweak them as necessary to match the servos you</span></p><p class="c0"><span class="c1">// have!</span></p><p class="c0"><span class="c1">#define SERVOMIN &nbsp;150 // This is the &#39;minimum&#39; pulse length count (out of 4096)</span></p><p class="c0"><span class="c1">#define SERVOMAX &nbsp;600 // This is the &#39;maximum&#39; pulse length count (out of 4096)</span></p><p class="c0"><span class="c1">#define USMIN &nbsp;600 // This is the rounded &#39;minimum&#39; microsecond length based on the minimum pulse of 150</span></p><p class="c0"><span class="c1">#define USMAX &nbsp;2400 // This is the rounded &#39;maximum&#39; microsecond length based on the maximum pulse of 600</span></p><p class="c0"><span class="c1">#define SERVO_FREQ 50 // Analog servos run at ~50 Hz updates</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">uint8_t servonum = 4;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">void setup() {</span></p><p class="c0"><span class="c1">&nbsp; setupMpu();</span></p><p class="c0"><span class="c1">&nbsp; Serial.begin(115200);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; </span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pwm.begin();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pwm.setOscillatorFrequency(27000000);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pwm.setPWMFreq(SERVO_FREQ); &nbsp;// Analog servos run at ~50 Hz updates</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; delay(10);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; </span></p><p class="c0"><span class="c1">&nbsp; pinMode(6, OUTPUT);</span></p><p class="c0"><span class="c1">&nbsp; delay(200);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; digitalWrite(13, HIGH);</span></p><p class="c0"><span class="c1">&nbsp; delay(100);</span></p><p class="c0"><span class="c1">&nbsp; calibrateMpu();</span></p><p class="c0"><span class="c1">&nbsp; digitalWrite(13, LOW);</span></p><p class="c0"><span class="c1">&nbsp; </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">void loop() {</span></p><p class="c0"><span class="c1">&nbsp; int mr, mp;</span></p><p class="c0"><span class="c1">&nbsp; getRPfromMpu(); &nbsp;// updates roll and pitch with new data</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp;mp = constrain(map(pitch, -90, 90, 150, 600),150, 600);</span></p><p class="c0"><span class="c1">&nbsp;mr = constrain(map(roll, -90, 90, 150, 600), 150, 600);</span></p><p class="c0"><span class="c1">&nbsp; // Serial.println( map(roll, -90, 90, 0, 255) ) ;</span></p><p class="c0"><span class="c1">&nbsp; //roll and pitch</span></p><p class="c0"><span class="c1">&nbsp; // &nbsp;Serial.print(roll,1);</span></p><p class="c0"><span class="c1">&nbsp; // &nbsp;Serial.print(&quot;,&quot;);</span></p><p class="c0"><span class="c1">&nbsp; // &nbsp;Serial.print(pitch,1);</span></p><p class="c0"><span class="c1">&nbsp; // &nbsp;Serial.println(&quot;&quot;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // mapped and constrained values 0-255</span></p><p class="c0"><span class="c1">&nbsp; Serial.print(mr);</span></p><p class="c0"><span class="c1">&nbsp; Serial.print(&quot;,&quot;);</span></p><p class="c0"><span class="c1">&nbsp; Serial.print(mp);</span></p><p class="c0"><span class="c1">&nbsp; Serial.println(&quot;&quot;);</span></p><p class="c0"><span class="c1">&nbsp; delay(100);</span></p><p class="c0"><span class="c1">&nbsp; </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &nbsp;for (uint16_t pulselen = SERVOMIN; pulselen &lt; SERVOMAX; pulselen++) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &nbsp; &nbsp;pwm.setPWM(servonum, 0, pulselen);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &nbsp;}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // servos example</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pwm.setPWM(0, 0, mp);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pwm.setPWM(1, 0, mr);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pwm.setPWM(2, 0, mp);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pwm.setPWM(3, 0, mr);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; </span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // psdo steppermotors as another examples</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if ( mr &lt; 250 ) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // steppermotors turn motors forward </span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; Serial.println(&quot;FORWARDS&quot;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; Serial.println(&quot;SMILEYFACE&quot;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; } else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;// steppermotors turn motors reverse</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;Serial.println(&quot;BACKWARDS&quot;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;Serial.println(&quot;SMILEYFACE&quot;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; </span></p><p class="c0"><span class="c1">} &nbsp; // end loop</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">void setServoPulse(uint8_t n, double pulse) {</span></p><p class="c0"><span class="c1">&nbsp; double pulselength;</span></p><p class="c0"><span class="c1">&nbsp; </span></p><p class="c0"><span class="c1">&nbsp; pulselength = 1000000; &nbsp; // 1,000,000 us per second</span></p><p class="c0"><span class="c1">&nbsp; pulselength /= SERVO_FREQ; &nbsp; // Analog servos run at ~60 Hz updates</span></p><p class="c0"><span class="c1">&nbsp; Serial.print(pulselength); Serial.println(&quot; us per period&quot;); </span></p><p class="c0"><span class="c1">&nbsp; pulselength /= 4096; &nbsp;// 12 bits of resolution</span></p><p class="c0"><span class="c1">&nbsp; Serial.print(pulselength); Serial.println(&quot; us per bit&quot;); </span></p><p class="c0"><span class="c1">&nbsp; pulse *= 1000000; &nbsp;// convert input seconds to us</span></p><p class="c0"><span class="c1">&nbsp; pulse /= pulselength;</span></p><p class="c0"><span class="c1">&nbsp; Serial.println(pulse);</span></p><p class="c0"><span class="c1">&nbsp; pwm.setPWM(n, 0, pulse);</span></p><p class="c0"><span class="c1">}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">void setupMpu() {</span></p><p class="c0"><span class="c1">&nbsp; Wire.begin(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//begin the wire communication</span></p><p class="c0"><span class="c1">&nbsp; Wire.beginTransmission(MPU_addr1); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //begin, send the slave adress (in this case 68)</span></p><p class="c0"><span class="c1">&nbsp; Wire.write(0x6B); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//make the reset (place a 0 into the 6B register)</span></p><p class="c0"><span class="c1">&nbsp; Wire.write(0);</span></p><p class="c0"><span class="c1">&nbsp; Wire.endTransmission(true); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//end the transmission</span></p><p class="c0"><span class="c1">}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">void calibrateMpu () {</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; Serial.println(&quot;Calibrating!&quot;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; for (byte i = 0; i &lt; 50; i++) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; Wire.beginTransmission(MPU_addr1);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; Wire.write(0x3B);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; Wire.endTransmission(false);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; Wire.requestFrom(MPU_addr1, 6, true); //get six bytes accelerometer data</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; xa = Wire.read() &lt;&lt; 8 | Wire.read();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ya = Wire.read() &lt;&lt; 8 | Wire.read();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; za = Wire.read() &lt;&lt; 8 | Wire.read();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; rolloffset = (atan2(ya , za) * 180.0 / PI) ;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pitchoffset = (atan2(-xa , sqrt(ya * ya + za * za)) * 180.0 / PI) ;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; Serial.print(&quot;.&quot;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; delay(30);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; Serial.println(&quot;done&quot;);</span></p><p class="c0"><span class="c1">}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">void getRPfromMpu() {</span></p><p class="c0"><span class="c1">&nbsp; Wire.beginTransmission(MPU_addr1);</span></p><p class="c0"><span class="c1">&nbsp; Wire.write(0x3B);</span></p><p class="c0"><span class="c1">&nbsp; Wire.endTransmission(false);</span></p><p class="c0"><span class="c1">&nbsp; Wire.requestFrom(MPU_addr1, 6, true); //get six bytes accelerometer data</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; xa = Wire.read() &lt;&lt; 8 | Wire.read();</span></p><p class="c0"><span class="c1">&nbsp; ya = Wire.read() &lt;&lt; 8 | Wire.read();</span></p><p class="c0"><span class="c1">&nbsp; za = Wire.read() &lt;&lt; 8 | Wire.read();</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; roll = (atan2(ya , za) * 180.0 / PI) - rolloffset;</span></p><p class="c0"><span class="c1">&nbsp; pitch = (atan2(-xa , sqrt(ya * ya + za * za)) * 180.0 / PI) &nbsp;- pitchoffset ;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p></body></html>